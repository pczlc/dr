<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/index.css">
</head>
<body>

<div class="w-1360">
  <!-- 轮播图 -->
  <div class="dr_banner">
    <div id="img_change">
      <a href="" class="active">
        <img src="img/index/15609380435d0a063b37508.jpg" alt="">
      </a>
      <a href="">
        <img src="img/index/15414875845be13be0a0a14.jpg" alt="">
      </a>
      <a href="">
        <img src="img/index/15597244445cf7819ca6104.jpg" alt="">
      </a>
    </div>
    
    <!-- 轮播图翻页 -->
    <a class="prev_button" href="javascript:;"></a>
    <a class="next_button" href="javascript:;"></a>
    <!-- 轮播图指示器 -->
    <ul class="banner_indicators">
      <li class="active"></li>
      <li></li>
      <li></li>
    </ul>
  </div>
  <div class="dr_love_search clear_after">
    <!-- 小视频 -->
    <div class="f1">
      <div class="play_button"></div>
      <img src="img/index/15504818355c6a79abcae4d.jpg" alt="">
    </div>
    <!-- 身份证查询 -->
    <div class="f2">
      <img src="img/index/logo_noword.png" alt="">
      <p>男士凭身份证一生仅能定制一枚DR求婚钻戒</p>
      <p>购买时 签署一生唯一真爱协议</p>
      <p>终生不可更改</p>
      <div class="u_line"></div>
      <div class="id_input">
        <input type="text" placeholder="请输入身份证号验证真爱承诺">
        <a href=""></a>
       </div>
    </div>
  </div>
  <!-- 钻戒类型 -->
  <div class="dr_family clear_after">
    <div class="family_left">
      <div class="family_item">
        <a class="a_img" href="">
          <img src="img/index/15597245855cf78229c541d.jpg" alt="">
        </a>
        <p>求婚钻戒</p>
      </div>
      <div class="family_item">
        <a class="a_img" href="">
          <img src="img/index/15597248705cf78346f2c6a.jpg" alt="">
        </a>
        <p>真爱礼物</p>
      </div>
    </div>
    <div class="family_right">
      <div class="family_item">
        <a class="a_img" href="">
          <img src="img/index/15597246205cf7824cbdddb.jpg" alt="">
        </a>
        <p>男戒</p>
      </div>
      <div class="family_item">
        <a class="a_img" href="">
          <img src="img/index/15597249315cf78383a5133.jpg" alt="">
        </a>
        <p>结婚对戒</p>
      </div>
    </div>
  </div>
  <!-- 城市店铺 -->
  <div class="dr_shop clear_after">
    <div class="float_l">
      <a class="a_img" href="">
        <img src="img/index/15597254485cf7858849818.jpg" alt="">
      </a>
    </div>
    <div class="float_r city_shop">
      <img src="img/index/logo_noword.png" alt="">
      <div class="input_city">
        <span>成都</span>
        <input type="text" placeholder="请输入城市名称如：成都">
        <a class="a_img" href="">
          <img src="img/index/ico-wseach.png" alt="">
        </a>
      </div>
      <a class="order_btn" href="">预约有礼（首次预约可领取精美礼品）</a>
    </div>
  </div>
  <!-- 其他页面 -->
  <div class="dr_other">
    <a class="a_img" href="">
      <img src="img/index/15483197085c497bdc7f34e.jpg" alt="">
      <p>DR粉丝故事</p>
    </a>
    <a class="a_img" href="">
      <img src="img/index/15610866665d0c4aca3d873.jpg" alt="">
      <p>真爱明星</p>
    </a>
    <a class="a_img" href="">
      <img src="img/index/15625739465d22fc7abc1a5.jpg" alt="">
      <p>DR活动专题</p>
    </a>
  </div>
</div>
<script>
  (function(){
    //找到prev元素
    var prev=document.getElementsByClassName("prev_button")[0];
    //找到next元素
    var next=document.getElementsByClassName("next_button")[0];
    //找到所有的指示器
    var indicators=document.querySelectorAll(".banner_indicators li");
    //绑定上一张事件
    prev.onclick=function(){
      //找到所有图片元素
      var as=document.querySelectorAll("#img_change>a");
      for(var i=0;i<as.length;i++){
        //判断图片的状态为active
        if(as[i].className==="active"){
          //给对应的上一个指示器添加active属性
          for(var indicator of indicators){
            indicator.className="";
          }
          if(i===0){
            indicators[as.length-1].className="active";
          }else{
            indicators[i-1].className="active";
          }
          //当为第一页时，点击上一页让最后一张显示，否则让下一张显示
          as[i].className="";
          if(i===0){
            as[as.length-1].className="active";
            break;
          }else{
            as[i-1].className="active";
            break;
          }
        }
      }
    }
    //绑定下一章事件，同上
    next.onclick=function(){
      next_change();
    }
    //向下翻页方法实现
    function next_change(){
      var as=document.querySelectorAll("#img_change>a");
      for(var i=0;i<as.length;i++){
        if(as[i].className==="active"){
          for(var indicator of indicators){
            indicator.className="";
          }
          if(i===as.length-1){
            indicators[0].className="active";
          }else{
            indicators[i+1].className="active";
          }
          as[i].className="";
          if(i===as.length-1){
            as[0].className="active";
            break;
          }else{
            as[i+1].className="active";
            break;
          }
        }
      }
    }
    //循环绑定指示器事件
    for(let i=0;i<indicators.length;i++){
      indicators[i].onclick=function(){
        for(var indicator of indicators){
            indicator.className="";
          }
        indicators[i].className="active";
        var as=document.querySelectorAll("#img_change>a");
        for(var a of as){
          a.className="";
        }
        as[i].className="active";      
      }
    }
    //设置周期定时器自动翻页
    setInterval(next_change,4000);
    })()

</script>
</body>
</html>