<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/index.css">
</head>
<body>

<div class="w-1360">
  <!-- 轮播图 -->
  <div class="dr_banner">
    <div id="img_change">
      <a href="" class="active">
        <img src="img/index/15609380435d0a063b37508.jpg" alt="">
      </a>
      <a href="">
        <img src="img/index/15414875845be13be0a0a14.jpg" alt="">
      </a>
      <a href="">
        <img src="img/index/15597244445cf7819ca6104.jpg" alt="">
      </a>
    </div>
    
    <!-- 轮播图翻页 -->
    <a class="prev_button" href="javascript:;"></a>
    <a class="next_button" href="javascript:;"></a>
    <!-- 轮播图指示器 -->
    <ul class="banner_indicators">
      <li class="active"></li>
      <li></li>
      <li></li>
    </ul>
  </div>
  <div class="dr_love_search clear_after">
    <!-- 小视频 -->
    <div class="f1">
      <div class="play_button"></div>
      <img src="img/index/15504818355c6a79abcae4d.jpg" alt="">
    </div>
    <!-- 身份证查询 -->
    <div class="f2">
      <img src="img/index/logo_noword.png" alt="">
      <p>男士凭身份证一生仅能定制一枚DR求婚钻戒</p>
      <p>购买时 签署一生唯一真爱协议</p>
      <p>终生不可更改</p>
      <div class="u_line"></div>
      <div class="id_input">
        <input type="text" placeholder="请输入身份证号验证真爱承诺">
        <a href=""></a>
       </div>
    </div>
  </div>
  <!-- 钻戒类型 -->
  <div class="dr_family clear_after">
    <div class="family_left">
      <div class="family_item">
        <a class="a_img" href="">
          <img src="img/index/15597245855cf78229c541d.jpg" alt="">
        </a>
        <p>求婚钻戒</p>
      </div>
      <div class="family_item">
        <a class="a_img" href="">
          <img src="img/index/15597248705cf78346f2c6a.jpg" alt="">
        </a>
        <p>真爱礼物</p>
      </div>
    </div>
    <div class="family_right">
      <div class="family_item">
        <a class="a_img" href="">
          <img src="img/index/15597246205cf7824cbdddb.jpg" alt="">
        </a>
        <p>男戒</p>
      </div>
      <div class="family_item">
        <a class="a_img" href="">
          <img src="img/index/15597249315cf78383a5133.jpg" alt="">
        </a>
        <p>结婚对戒</p>
      </div>
    </div>
  </div>
  <!-- 城市店铺 -->
  <div class="dr_shop clear_after">
    <div class="float_l">
      <a class="a_img" href="">
        <img src="img/index/15597254485cf7858849818.jpg" alt="">
      </a>
    </div>
    <div class="float_r city_shop">
      <img src="img/index/logo_noword.png" alt="">
      <div class="input_city">
        <span>成都</span>
        <input type="text" placeholder="请输入城市名称如：成都">
        <a class="a_img" href="">
          <img src="img/index/ico-wseach.png" alt="">
        </a>
      </div>
      <a class="order_btn" href="">预约有礼（首次预约可领取精美礼品）</a>
    </div>
  </div>
  <!-- 其他页面 -->
  <div class="dr_other">
    <a class="a_img" href="">
      <img src="img/index/15483197085c497bdc7f34e.jpg" alt="">
      <p>DR粉丝故事</p>
    </a>
    <a class="a_img" href="">
      <img src="img/index/15610866665d0c4aca3d873.jpg" alt="">
      <p>真爱明星</p>
    </a>
    <a class="a_img" href="">
      <img src="img/index/15625739465d22fc7abc1a5.jpg" alt="">
      <p>DR活动专题</p>
    </a>
  </div>
</div>
<script src="js/jquery-1.11.3.js"></script>
<script>
  var $length=$("#img_change>a").length;
  //定义跳转到指定位置函数
  function moveTo(i){
    //删除所有的active样式，并给当前位置加上active
    $("#img_change>a").removeClass("active");
    $($("#img_change>a")[i]).addClass("active");
    $(".banner_indicators>li").removeClass("active");
    $($(".banner_indicators>li")[i]).addClass("active");
  }
  //点击上一页，判断位置调用函数
  $(".prev_button").click(function(){
    if($("#img_change>a:first").hasClass("active")){
      moveTo($length-1);
    }else{
      moveTo($("#img_change>a.active").index()-1);
    }
    clearTimer();
  })
  //封装向下翻一页函数
  function next(){
    if($("#img_change>a:last").hasClass("active")){
      moveTo(0);
    }else{
      moveTo($("#img_change>a.active").index()+1);
    }
  }
  //点击下一页，调用函数
  $(".next_button").click(function(){
    next();
    clearTimer();
  })
  //利用事件委托，绑定指示器点击事件
  $(".banner_indicators").on("click","li",function(){
    moveTo($(this).index());
    clearTimer();
  })
  //定义计时器
  var timer=setInterval(next,4000);
  //定义事件触发清除定时器函数
  function clearTimer(){
    clearInterval(timer);
    timer=setInterval(next,4000);
  }
</script>
</body>
</html>